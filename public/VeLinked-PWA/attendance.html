<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VeLinked Driver</title>
    <link rel="stylesheet" href="css/navbar.css">
    <link rel="stylesheet" href="css/attendance.css">
    <script defer src="/__/firebase/10.9.0/firebase-app-compat.js"></script>
    <!-- include only the Firebase features as you need -->
    <script defer src="/__/firebase/10.9.0/firebase-auth-compat.js"></script>
    <script defer src="/__/firebase/10.9.0/firebase-database-compat.js"></script>
    <script defer src="/__/firebase/10.9.0/firebase-firestore-compat.js"></script>
    <script defer src="/__/firebase/10.9.0/firebase-functions-compat.js"></script>
    <script defer src="/__/firebase/10.9.0/firebase-messaging-compat.js"></script>
    <script defer src="/__/firebase/10.9.0/firebase-storage-compat.js"></script>
    <script defer src="/__/firebase/10.9.0/firebase-analytics-compat.js"></script>
    <script defer src="/__/firebase/10.9.0/firebase-remote-config-compat.js"></script>
    <script defer src="/__/firebase/10.9.0/firebase-performance-compat.js"></script>
    <!-- 
      initialize the SDK after all desired features are loaded, set useEmulator to false
      to avoid connecting the SDK to running emulators.
    -->
    <script defer src="/__/firebase/init.js?useEmulator=true"></script>
    
</head>
<body>

    <div class="header">
        <h3 id="user-name"></h3>
        <img src="icons/icon.svg" alt="VeLinked">
    </div>

<div class="main-content">
        
        <div class="Attendance-Header">
            <p>Total Leaves, This week</p>
            <h3>2 times</h3>
            <button class="AddAttendance" onclick="window.location.href='AddAttendance.html';">
                <div class="addButtonLabel">Add New Leave</div>
                
                
            </button>
        </div>
        

        <div class="attendance-container">
            <div class="Attendance-Card">
                <div class="Attendance-Card-header">
                    <p>Desember 2024</p>
                </div>
                <div class="Card-Attendance">
                    <div class="Info-Card-Content">
                        <p>Fullday Application</p>
                        <h4>Wed, 16 Dec</h4>
                        <h5>Have fever today</h5>
                    </div>
                    <div class="right-card-Content">
                        <div class="Stats-Card-Content Approved">
                            <p>Approved</p>
                        </div>
                    </div>
                    
                </div>
            </div>
            <div class="Attendance-Card">
                <div class="Attendance-Card-header">
                    <p>November 2024</p>
                </div>
                <div class="Card-Attendance">
                    <div class="Info-Card-Content">
                        <p>3 Days Application</p>
                        <h4>Wed, 16 Dec</h4>
                        <h5>Have fever today</h5>
                    </div>
                    <div class="right-card-Content">
                        <div class="Stats-Card-Content Awaiting">
                            <p>Awaiting</p>
                        </div>
                    </div>
                    
                </div>
            </div>
            <div class="Attendance-Card">
               
                <div class="Card-Attendance">
                    <div class="Info-Card-Content">
                        <p>4 Days Application</p>
                        <h4>Wed, 16 Dec</h4>
                        <h5>Have fever today</h5>
                    </div>
                    <div class="right-card-Content">
                        <div class="Stats-Card-Content Declined">
                            <p>Declined</p>
                        </div>
                    </div>
                    
                </div>
            </div>
            <div class="Attendance-Card">
                
                <div class="Card-Attendance">
                    <div class="Info-Card-Content">
                        <p>Fullday Application</p>
                        <h4>Wed, 16 Dec</h4>
                        <h5>Have fever today</h5>
                    </div>
                    <div class="right-card-Content">
                        <div class="Stats-Card-Content Awaiting">
                            <p>Awaiting</p>
                        </div>
                    </div>
                    
                </div>
            </div>
        </div>
        




</div>

    


    <div class="navbar">
        <a href="dashboard.html">
            <img src="assets/images/Nav-Dashboard.svg" alt="Dashboard" width="24" height="24">
        </a>
        <a href="Expanse.html">
            <img src="assets/images/Nav-Expanse.svg" alt="Expanse" width="24" height="24">
        </a>
        <a href="attendance.html">
            <img src="assets/images/Nav-Attendance-Active.svg" alt="Chat" width="24" height="24">
        </a>
        <a href="Profile.html">
            <img src="assets/images/Nav-Profile.svg" alt="Profile" width="24" height="24">
        </a>
    </div>


    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-app.js";
import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-auth.js";
import { getDatabase, ref, query, get, update, orderByChild, equalTo, onValue } from "https://www.gstatic.com/firebasejs/10.11.0/firebase-database.js";

const firebaseConfig = {
    apiKey: "AIzaSyB9qUzLViR5uALw9Qf_xzJpd20acoV0FEs",
    authDomain: "velinked-web.firebaseapp.com",
    databaseURL: "https://velinked-web-default-rtdb.asia-southeast1.firebasedatabase.app",
    projectId: "velinked-web",
    storageBucket: "velinked-web.appspot.com",
    messagingSenderId: "844821073092",
    appId: "1:844821073092:web:f243c25668079240ec0d91",
    measurementId: "G-CLGQ4RWWTX"
};











// Initialize Firebase
const app = initializeApp(firebaseConfig);
const auth = getAuth();
const database = getDatabase(app);













function displayUserProfilePic(user) {
    
    const userNameDiv = document.getElementById("user-name");

    // Cek apakah pengguna sudah login
    if (user) {
        
        userNameDiv.innerText = "Hi, " + user.displayName;
    } else {
        // Jika pengguna belum login, atur gambar profil default dan kosongkan nama pengguna
        profilePicDiv.innerHTML = '<img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRuEiaDNDqRo6K0Zn_NlRJjAde-B1zommEhIg&usqp=CAU" alt="Default Profile Picture" class="profile-pic">';
        userNameDiv.innerText = "";
    }
}


// Fungsi untuk memeriksa autentikasi pengguna
onAuthStateChanged(auth, user => {
    if (user) {

        displayUserProfilePic(user);
    } else {
        // Jika tidak ada pengguna yang login, arahkan ke halaman login
        window.location.href = "index.html";
    }
});


    </script>
    



</body>
</html>
